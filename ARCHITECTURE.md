# Архитектура проекта "Виртуальное Путешествие в Средневековый Новгород"

## Общая архитектура

Проект представляет собой интерактивную веб-карту-изображение Новгорода XI-XIII веков, реализованную на базе HTML, CSS и JavaScript. Приложение реализовано по модульной архитектуре, позволяющей легко расширять возможности и добавлять новые функциональные блоки.

## Структура проекта

```
project/
├── index.html                  # Главная страница приложения
├── ARCHITECTURE.md            # Документация по архитектуре
├── README.md                  # Описание проекта
├── Новгород.png               # Основное изображение карты
├── css/
│   └── style.css              # Стили оформления
├── js/
│   ├── main.js                # Основной скрипт инициализации
│   ├── config.js              # Конфигурация приложения
│   ├── utils.js               # Вспомогательные функции
│   ├── map.js                 # Обработка интерактивной карты
│   ├── map-data.js            # Данные о кликабельных областях
│   ├── navigation.js          # Система навигации
│   ├── interaction-manager.js # Менеджер взаимодействий
│   ├── voice-assistant.js     # Голосовой ассистент
│   └── ui.js                  # Интерфейс пользователя
├── assets/
│   ├── audio/                 # Аудио-файлы для синтеза речи
│   ├── images/                # Дополнительные изображения
│   └── data/                  # JSON файлы с историческими данными
└── docs/                      # Дополнительная документация
```

## Модули приложения

### 1. Ядро приложения (main.js, config.js, utils.js)

**Описание**: Базовые компоненты приложения, обеспечивающие инициализацию, конфигурацию и вспомогательные функции.

**Функции**:
- Инициализация приложения
- Загрузка конфигурации
- Предоставление вспомогательных функций

### 2. Модуль интерактивной карты (map.js, map-data.js, zoom-controls.js)

**Описание**: Отвечает за отображение и взаимодействие с изображением карты 'Новгород.png'. Обрабатывает клики по координатам, определяет области интереса, позволяет масштабировать и приближать участки карты.

**Функции**:
- Отображение карты на странице
- Обработка кликов по координатам
- Определение областей интереса на основе предварительно заданных координат
- Управление масштабом и панорамированием
- Подсветка активных зон

### 3. Модуль взаимодействия (interaction-manager.js)

**Описание**: Обрабатывает действия пользователя на карте, реализует переходы между зданиями, вызывает информацию о зданиях и людях, управляет состоянием интерфейса.

**Функции**:
- Обработка кликов по кликабельным зонам
- Открытие информационных панелей
- Запуск анимаций и визуальных эффектов
- Управление состоянием интерфейса при переходе между локациями

### 4. Модуль голосового ассистента (voice-assistant.js)

**Описание**: Предоставляет возможность прослушивания аудио-экскурсий посредством Web Speech API.

**Функции**:
- Синтез речи для экскурсий
- Воспроизведение аудио-сопровождения
- Управление сессиями озвучивания
- Интеграция с историческими данными

### 5. Модуль управления данными (data-manager.js)

**Описание**: Централизованное хранилище исторических данных, информации о зданиях, людях и других объектах на карте.

**Функции**:
- Загрузка и хранение исторических данных
- Предоставление информации о конкретных местах и объектах
- Поддержка работы с JSON-файлами и IndexedDB
- Управление кэшированием данных

### 6. Модуль пользовательского интерфейса (ui.js)

**Описание**: Обеспечивает взаимодействие с пользователем через элементы управления, информационные панели и навигационные компоненты.

**Функции**:
- Отображение и управление элементами интерфейса
- Обработка команд пользователя
- Управление информационными панелями (описания зданий, персонажей и т.д.)
- Интеграция с другими модулями приложения

## Технологии

- **HTML5**: Структура веб-страницы
- **CSS3**: Стилизация и анимации
- **JavaScript (ES6+)**: Логика взаимодействия и обработка событий
- **Web Speech API**: Синтез речи для голосового ассистента
- **JSON**: Хранение исторических данных и конфигурации
- **Canvas API**: (при необходимости) дополнительная визуализация поверх изображения

## Принципы архитектуры

1. **Модульность**: Каждый функциональный блок выделен в отдельный модуль
2. **Разделение ответственности**: Каждый модуль выполняет строго определённый набор задач
3. **Расширяемость**: Архитектура позволяет легко добавлять новые функции
4. **Поддерживаемость**: Четкое разделение кода упрощает сопровождение